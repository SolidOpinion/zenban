define("app",["exports","aurelia-event-aggregator","aurelia-dependency-injection"],function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var r,o;t.App=(r=(0,i.inject)(e.EventAggregator),r(o=function(){function t(e){n(this,t),this.eventAggregator=e,this.currentRoute="/",this.isPipelineOptions=!0}return t.prototype.configureRouter=function(t,e){this.router=e,t.map([{route:"",moduleId:"controllers/pipelines",nav:!0},{route:"item",moduleId:"controllers/addItem",nav:!0},{route:"item/:id",moduleId:"controllers/editItem"},{route:"users",moduleId:"controllers/users"},{route:"requirements",moduleId:"controllers/requirements",nav:!0},{route:"archive",moduleId:"controllers/archive",nav:!0}])},t.prototype.navigationSuccess=function(t){var e=t.instruction;this.currentRoute=e.fragment,"/"==this.currentRoute?this.isPipelineOptions=!0:this.isPipelineOptions=!1},t.prototype.attached=function(){this.subscription=this.eventAggregator.subscribe("router:navigation:success",this.navigationSuccess.bind(this))},t.prototype.detached=function(){this.subscription.dispose()},t}())||o)}),define("environment",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1,api:"https://still-savannah-15219.herokuapp.com"}}),define("main",["exports","./environment"],function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){t.use.standardConfiguration(),r.default.debug&&t.use.developmentLogging(),r.default.testing&&t.use.plugin("aurelia-testing"),t.start().then(function(){return t.setRoot()})}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=n;var r=i(e);Promise.config({warnings:{wForgottenReturn:!1}})}),define("controllers/addItem",["exports","aurelia-framework","aurelia-router","../models/itemsData","../models/usersData","../models/requirementsData"],function(t,e,i,n,r,o){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AddItem=void 0;var a,u,l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.AddItem=(a=(0,e.inject)(n.ItemsData,i.Router,o.RequirementsData,r.UsersData),a(u=function(){function t(e,i,n,r){s(this,t),this.data=e,this.rdata=n,this.udata=r,this.router=i,this.item={},this.item.title="",this.item.description="",this.item.type="feature",this.item.estimate=0,this.item.isProblem=!1,this.item.status="Backlog"}return t.prototype.attached=function(){this.isProblemFocus=!1,this.isTitleFocus=!0},t.prototype.switchType=function(t){this.item.type=t},t.prototype.switchEstimate=function(t){this.item.estimate=t},t.prototype.switchProblem=function(){this.item.isProblem?(this.item.isProblem=!1,this.isProblemFocus=!1,this.isTitleFocus=!0):(this.item.isProblem=!0,this.isProblemFocus=!0,this.isTitleFocus=!1)},t.prototype.save=function(){var t=this;""==this.item.featureId&&(this.item.featureId=void 0),""==this.item.requirementId&&(this.item.requirementId=void 0),""==this.item.authorId&&(this.item.authorId=void 0),""==this.item.assigneeId&&(this.item.assigneeId=void 0),this.data.addNew(this.item).then(function(e){t.router.navigate("/")})},l(t,[{key:"canSave",get:function(){return!(!this.item.title||this.item.title.length<1)&&!(!this.item.description||this.item.description.length<1)}},{key:"hasFeature",get:function(){return"feature"!=this.item.type}},{key:"hasEstimate",get:function(){return"feature"!=this.item.type}}]),t}())||u)}),define("controllers/archive",["exports","aurelia-framework","../models/itemsData"],function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Archive=void 0;var r,o;t.Archive=(r=(0,e.inject)(i.ItemsData),r(o=function(){function t(e){n(this,t),this.data=e,this.items=[]}return t.prototype.attached=function(){var t=this;this.data.getClosedList().then(function(e){t.items=e;for(var i=0;i<t.items.length;i++)t.items[i].updatedTitle=t.getTimeStamp(t.items[i].updated);console.log(t.items)})},t.prototype.getTimeStamp=function(t){var e=new Date(t),i=[e.getMonth()+1,e.getDate(),e.getFullYear()],n=[e.getHours(),e.getMinutes()],r=n[0]<12?"AM":"PM";n[0]=n[0]<12?n[0]:n[0]-12,n[0]=n[0]||12;for(var o=1;o<3;o++)n[o]<10&&(n[o]="0"+n[o]);return i.join("/")+" "+n.join(":")+" "+r},t}())||o)}),define("controllers/autocomplete",["exports","aurelia-framework","jquery"],function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.Autocomplete=void 0;var a,u,l,c,d,p,h=n(i);t.Autocomplete=(a=function(){function t(e){o(this,t),r(this,"placeholder",u,this),r(this,"minTermLength",l,this),r(this,"loader",c,this),r(this,"value",d,this),r(this,"valueId",p,this),this.isShown=!1,this.items=[],this.selected={},this.value="",this.valueId=""}return t.prototype.attached=function(){},t.prototype.inputKeyPressed=function(t){var e=this;return this.value.length>this.minTermLength-1?this.loader.search(this.value).then(function(t){e.items=t,e.isShown=!0}):this.isShown=!1,!0},t.prototype.itemSelected=function(t){for(var e=(0,h.default)(t.target),i=e.attr("data-id");void 0===i&&e;)e=e.parent(),i=e.attr("data-id");if(void 0!==i){this.hasFocus=!1;var n=e.attr("data-value");this.valueId=i,this.value=n,this.selected.id=i,this.selected.value=n,this.isShown=!1,this.items=[]}},t.prototype.hideSuggestions=function(){this.isShown=!1,this.selected.id&&this.selected.id==this.valueId&&""!=this.value?this.value=this.selected.value:(this.selected={},this.value="",this.valueId=""),this.hasFocus=!1},t}(),u=s(a.prototype,"placeholder",[e.bindable],{enumerable:!0,initializer:null}),l=s(a.prototype,"minTermLength",[e.bindable],{enumerable:!0,initializer:null}),c=s(a.prototype,"loader",[e.bindable],{enumerable:!0,initializer:null}),d=s(a.prototype,"value",[e.bindable],{enumerable:!0,initializer:null}),p=s(a.prototype,"valueId",[e.bindable],{enumerable:!0,initializer:null}),a)}),define("controllers/editItem",["exports","aurelia-framework","aurelia-router","../models/itemsData","../models/usersData","../models/requirementsData"],function(t,e,i,n,r,o){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EditItem=void 0;var a,u,l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.EditItem=(a=(0,e.inject)(n.ItemsData,i.Router,o.RequirementsData,r.UsersData),a(u=function(){function t(e,i,n,r){s(this,t),this.data=e,this.rdata=n,this.udata=r,this.router=i,this.item={},this.item.title="",this.item.description="",this.item.type="feature",this.item.estimate=0,this.item.isProblem=!1,this.item.status="Backlog"}return t.prototype.activate=function(t){var e=this;void 0!=t.id&&t.id.length>0&&this.data.getOne(t.id).then(function(t){e.item=t,void 0!=e.item.requirement&&(e.item.requirementTitle=e.item.requirement.title),void 0!=e.item.feature&&(e.item.featureTitle=e.item.feature.title),void 0!=e.item.author&&(e.item.authorTitle=e.item.author.title),void 0!=e.item.assignee&&(e.item.assigneeTitle=e.item.assignee.title)})},t.prototype.attached=function(){this.isProblemFocus=!1,this.isTitleFocus=!0},t.prototype.switchType=function(t){this.item.type=t},t.prototype.switchEstimate=function(t){this.item.estimate=t},t.prototype.switchProblem=function(){this.item.isProblem?(this.item.isProblem=!1,this.isProblemFocus=!1,this.isTitleFocus=!0):(this.item.isProblem=!0,this.isProblemFocus=!0,this.isTitleFocus=!1)},t.prototype.restore=function(){var t=this;this.item.status="Backlog",this.data.update(this.item._id,this.item).then(function(e){t.router.navigate("/")})},t.prototype.save=function(){var t=this;this.data.update(this.item._id,this.item).then(function(e){t.router.navigate("/")})},l(t,[{key:"isClosed",get:function(){return"Closed"==this.item.status}},{key:"canSave",get:function(){return!(!this.item.title||this.item.title.length<1)&&!(!this.item.description||this.item.description.length<1)}},{key:"hasFeature",get:function(){return"feature"!=this.item.type}},{key:"hasEstimate",get:function(){return"feature"!=this.item.type}}]),t}())||u)}),define("controllers/node",["exports","aurelia-framework"],function(t,e){"use strict";function i(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,i,n,r){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;var o,s,a;t.Node=(o=function(){function t(){n(this,t),i(this,"current",s,this),i(this,"edit",a,this)}return t.prototype.sendEdit=function(t){this.edit({id:t})},t}(),s=r(o.prototype,"current",[e.bindable],{enumerable:!0,initializer:null}),a=r(o.prototype,"edit",[e.bindable],{enumerable:!0,initializer:null}),o)}),define("controllers/pipelines",["exports","aurelia-framework","aurelia-router","jquery","jquery-ui-dist","../models/itemsData"],function(t,e,i,n,r,o){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Pipelines=void 0;var u,l,c=s(n),d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.Pipelines=(u=(0,e.inject)(o.ItemsData,i.Router),u(l=function(){function t(e,i){a(this,t),this.data=e,this.router=i,this.statuses=["Backlog","Ready","In progress","Done","Release","Review","Closed"],this.items={},this.filter={},this.filter.text="",this.filter.isFeatures=!0,this.filter.isTasks=!0,this.filter.isBugs=!0}return t.prototype.compareItems=function(t,e){return t.order<e.order?-1:t.order>e.order?1:0},t.prototype.refresh=function(){var t=this;this.data.getList(this.filter).then(function(e){t.items=e.content})},t.prototype.onBeforeStop=function(t,e){console.log("OnDragStop");var i=e.item.parent().closest("ul").attr("data-status"),n=e.item.attr("data-id"),r=(0,c.default)(this).data("injected"),o=e.item.parent().closest("ul").sortable("toArray").toString();return r.data.updateStatusAndOrder(n,i,o).then(function(){r.refresh()}),!1},t.prototype.attached=function(){var t=this;(0,c.default)("ul.items").sortable({connectWith:"ul",beforeStop:this.onBeforeStop}).data("injected",t).disableSelection(),this.refresh()},t.prototype.switchFeatures=function(){this.filter.isFeatures?this.filter.isFeatures=!1:this.filter.isFeatures=!0,this.refresh()},t.prototype.switchTasks=function(){this.filter.isTasks?this.filter.isTasks=!1:this.filter.isTasks=!0,this.refresh()},t.prototype.switchBugs=function(){this.filter.isBugs?this.filter.isBugs=!1:this.filter.isBugs=!0,this.refresh()},d(t,[{key:"_items",get:function(){var t={};t.totals={};for(var e=0;e<this.items.length;e++){var i=this.items[e].status;void 0==t[i]&&(t[i]=[]),void 0==t.totals[i]&&(t.totals[i]=0),t[i].push(this.items[e]),t.totals[i]=t.totals[i]+this.items[e].estimate}for(e=0;e<this.statuses.length;e++){var i=this.statuses[e];void 0!=t[i]&&t[i].sort(this.compareItems)}return t},set:function(t){this._items=t}}]),t}())||l)}),define("controllers/requirements",["exports","aurelia-framework","../models/requirementsData"],function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Requirements=void 0;var r,o,s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.Requirements=(r=(0,e.inject)(i.RequirementsData),r(o=function(){function t(e){n(this,t),this.data=e,this.requirements={},this.isForm=!1,this.requirement={}}return t.prototype.refreshTree=function(){var t=this;this.data.getList().then(function(e){for(var i,n={},r=[],o=0;o<e.length;o++)i=e[o],i.children=[],n[i._id]=o,i.hasOwnProperty("parent")&&null!==i.parent?e[n[i.parent]].children.push(i):r.push(i);t.requirements=r})},t.prototype.attached=function(){this.refreshTree()},t.prototype.create=function(t){this.isForm=!0,this.requirement={},null!=t&&(this.requirement.parent=t)},t.prototype.edit=function(t){var e=this;console.log(t),this.data.getOne(t).then(function(t){e.requirement=t,e.isForm=!0})},t.prototype.remove=function(t){var e=this;this.data.remove(t).then(function(t){e.isForm=!1,e.requirement={},e.refreshTree()})},t.prototype.hide=function(){this.isForm=!1,this.requirement={}},t.prototype.save=function(){var t=this;null!=this.requirement._id?this.data.update(this.requirement._id,this.requirement).then(function(e){t.isForm=!1,t.refreshTree()}):this.data.addNew(this.requirement).then(function(e){t.isForm=!1,t.refreshTree()})},s(t,[{key:"canSave",get:function(){return!(!this.requirement.title||this.requirement.title.length<1)}}]),t}())||o)}),define("controllers/users",["exports","aurelia-framework","../models/usersData"],function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Users=void 0;var r,o,s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t.Users=(r=(0,e.inject)(i.UsersData),r(o=function(){function t(e){n(this,t),this.data=e,this.isForm=!1,this.user={},this.users=[]}return t.prototype.refreshList=function(){var t=this;this.data.getList().then(function(e){t.users=e})},t.prototype.attached=function(){this.refreshList()},t.prototype.create=function(){this.isForm=!0,this.user={}},t.prototype.save=function(){var t=this;void 0!=this.user._id&&null!=this.user._id?this.data.update(this.user._id,this.user).then(function(e){t.isForm=!1,t.refreshList()}):this.data.addNew(this.user).then(function(e){t.isForm=!1,t.refreshList()})},t.prototype.hide=function(){this.isForm=!1,this.user={}},t.prototype.edit=function(t){var e=this;this.data.getOne(t).then(function(t){e.user=t,e.isForm=!0})},s(t,[{key:"canSave",get:function(){return!(!this.user.email||this.user.email.length<1)}}]),t}())||o)}),define("models/itemsData",["exports","aurelia-framework","aurelia-http-client","../environment"],function(t,e,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ItemsData=void 0;var s,a,u=r(n),l=u.default.api,c=u.default.api+"/api/items",d=u.default.api+"/api/search/items",p=u.default.api+"/api/board",h=u.default.api+"/api/archive";t.ItemsData=(s=(0,e.inject)(i.HttpClient),s(a=function(){function t(e,i){o(this,t),this.http=e,console.log(u.default.api)}return t.prototype.addNew=function(t){return this.http.post(c,t).then(function(t){return t.content})},t.prototype.getOne=function(t){return this.http.get(c+"/"+t).then(function(t){return t.content})},t.prototype.update=function(t,e){return void 0!=e.requirement&&(e.requirement=e.requirement.id),void 0!=e.feature&&(e.feature=e.feature.id),void 0!=e.author&&(e.author=e.author.id),void 0!=e.assignee&&(e.assignee=e.assignee.id),this.http.put(c+"/"+t,e).then(function(t){return t.content})},t.prototype.updateStatusAndOrder=function(t,e,i){var n={};return n.id=t,n.status=e,n.order=i,this.http.post(p,n).then(function(t){return t.content})},t.prototype.remove=function(t){return this.http.delete(c+"/"+t).then(function(t){return t.content})},t.prototype.getList=function(t){return this.http.createRequest("/api/items").asGet().withBaseUrl(l).withParams(t).send()},t.prototype.getClosedList=function(){return this.http.get(h).then(function(t){return t.content})},t.prototype.search=function(t){return this.http.post(d,{search:t}).then(function(t){return t.content})},t}())||a)}),define("models/requirementsData",["exports","aurelia-framework","aurelia-http-client","../environment"],function(t,e,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RequirementsData=void 0;var s,a,u=r(n),l=u.default.api+"/api/requirements",c=u.default.api+"/api/search/requirements";t.RequirementsData=(s=(0,e.inject)(i.HttpClient),s(a=function(){function t(e){o(this,t),this.http=e}return t.prototype.addNew=function(t){return this.http.post(l,t).then(function(t){return t.content})},t.prototype.getOne=function(t){return this.http.get(l+"/"+t).then(function(t){return t.content})},t.prototype.update=function(t,e){return this.http.put(l+"/"+t,e).then(function(t){return t.content})},t.prototype.remove=function(t){return this.http.delete(l+"/"+t).then(function(t){return t.content})},t.prototype.getList=function(){return this.http.get(l).then(function(t){return t.content})},t.prototype.search=function(t){return this.http.post(c,{search:t}).then(function(t){for(var e=0;e<t.content.length;e++)t.content[e].title="[ "+t.content[e].requirementCode+" ]  "+t.content[e].title;return t.content})},t}())||a)}),define("models/usersData",["exports","aurelia-framework","aurelia-http-client","../environment"],function(t,e,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.UsersData=void 0;var s,a,u=r(n),l=u.default.api+"/api/search/users",c=u.default.api+"/api/users";t.UsersData=(s=(0,e.inject)(i.HttpClient),s(a=function(){function t(e){o(this,t),this.http=e}return t.prototype.addNew=function(t){return this.http.post(c,t).then(function(t){return t.content})},t.prototype.getList=function(){return this.http.get(c).then(function(t){return t.content})},t.prototype.search=function(t){return this.http.post(l,{search:t}).then(function(t){return t.content})},t.prototype.getOne=function(t){return this.http.get(c+"/"+t).then(function(t){return t.content})},t.prototype.update=function(t,e){return this.http.put(c+"/"+t,e).then(function(t){return t.content})},t}())||a)}),define("text!app.html",["module"],function(t){t.exports='<template>\n  <require from="bootstrap/css/bootstrap.css"></require>\n  <require from="font-awesome/css/font-awesome.css"></require>\n  <div class="container-fluid" align="center" style="padding: 3px;">\n    <a href="#/">board</a> | <a href="#/requirements">requirements</a>\n    | <a href="#/item">create</a>\n    | <a href="#/users">users</a>\n    | <a href="#/archive">archive</a>\n  </div>\n\n  <router-view></router-view>\n</template>\n'}),define("text!controllers/autocomplete.css",["module"],function(t){t.exports=".autocomplete-suggestion {\n    position: absolute;\n    top: 35px;\n    left: 2px;\n    height: 300px;\n    z-index: 999;\n    overflow-y:auto;\n    cursor: pointer;\n}\n\n.autocomplete-container {\n    position: relative;\n}"}),define("text!controllers/addItem.html",["module"],function(t){t.exports='<template>\n\n    <div class="container">\n\n        <div class="panel panel-default">\n            <div class="panel-body">\n                <require from="./autocomplete"></require>\n                <form>\n                    <div class="col-md-8" >\n                        <div class="form-group">\n                            <input type="text" class="form-control" placeholder="Title" value.bind="item.title" focus.bind="isTitleFocus">\n                        </div>\n                        <div class="form-group">\n                            <textarea class="form-control" rows="7" value.bind="item.description"></textarea>\n                        </div>\n                        <div class="form-group" show.bind="hasFeature">\n                            <autocomplete value.two-way="item.featureTitle"\n                                          placeholder="Choose feature"\n                                          min-term-length=3\n                                          loader.bind="data"\n                                          value-id.two-way="item.feature"\n                            ></autocomplete>\n                        </div>\n                        <div class="form-group">\n                            <autocomplete value.two-way="item.requirementTitle"\n                                          placeholder="Choose functional requirement"\n                                          min-term-length=3\n                                          loader.bind="rdata"\n                                          value-id.two-way="item.requirement"\n                            ></autocomplete>\n                        </div>\n                        <div class="form-group">\n                            <button type="button" class="btn btn-default" onclick="document.location.href=\'#/\';">Cancel</button>\n                            <button type="button" class="btn btn-primary" disabled.bind="!canSave" click.trigger="save()" id="saveButton">Save</button>\n                        </div>\n                    </div>\n                    <div class="col-md-4">\n                        <div class="form-group">\n                            <div class="btn-group" role="group">\n                                <button type="button" class = "btn btn-default ${item.type==\'feature\' ? \'active\' : \'\'}"  click.trigger="switchType(\'feature\')">Feature</button>\n                                <button type="button" class="btn btn-default ${item.type==\'task\' ? \'active\' : \'\'}"  click.trigger="switchType(\'task\')">Task</button>\n                                <button type="button" class="btn btn-default ${item.type==\'bug\' ? \'active\' : \'\'}"  click.trigger="switchType(\'bug\')">Bug</button>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <autocomplete value.two-way="item.authorTitle"\n                                          placeholder="Choose author"\n                                          min-term-length=2\n                                          loader.bind="udata"\n                                          value-id.two-way="item.author"\n                            ></autocomplete>\n                        </div>\n                        <div class="form-group">\n                            <autocomplete value.two-way="item.assigneeTitle"\n                                          placeholder="Choose assignee"\n                                          min-term-length=2\n                                          loader.bind="udata"\n                                          value-id.two-way="item.assignee"\n                            ></autocomplete>\n                        </div>\n                        <div class="form-group"  show.bind="hasEstimate">\n                            <div class="btn-group" role="group" >\n                                <button type="button" class="btn btn-default ${item.estimate==0 ? \'active\' : \'\'}" click.trigger="switchEstimate(0)">?</button>\n                                <button type="button" class="btn btn-default ${item.estimate==2 ? \'active\' : \'\'}" click.trigger="switchEstimate(2)">S</button>\n                                <button type="button" class="btn btn-default ${item.estimate==5 ? \'active\' : \'\'}" click.trigger="switchEstimate(5)">M</button>\n                                <button type="button" class="btn btn-default ${item.estimate==13 ? \'active\' : \'\'}" click.trigger="switchEstimate(13)">XL</button>\n                                <button type="button" class="btn btn-default ${item.estimate==21 ? \'active\' : \'\'}" click.trigger="switchEstimate(21)">XXL</button>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <button type="button" class="btn btn-danger ${item.isProblem ? \'active\' : \'\'}" click.trigger="switchProblem()">Report a problem</button>\n                        </div>\n                        <div class="form-group">\n                            <textarea class="form-control" rows="3" show.bind="item.isProblem" value.bind="item.problemDescription" focus.bind="isProblemFocus"></textarea>\n                        </div>\n                    </div>\n\n                </form>\n            </div>\n        </div>\n    </div>\n</template>'}),define("text!controllers/archive.html",["module"],function(t){t.exports='<template>\n    <div class="container">\n        <div class="panel panel-default">\n            <div class="panel-heading">Archive</div>\n            <div class="panel-body">\n                <table class="table">\n                    <thead>\n                    <tr>\n                        <th>Closed</th>\n                        <th>Title</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr repeat.for="i of items" current.bind="i">\n                        <td>${i.updatedTitle}</td>\n                        <td width="80%"><a href="#/item/${i._id}">${i.title}</a></td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</template>\n'}),define("text!controllers/autocomplete.html",["module"],function(t){t.exports='<template>\n    <require from="./autocomplete.css"></require>\n    <div class="autocomplete-container">\n        <input class="form-control"\n               autocomplete="off"\n               value.bind="value"\n               keyup.delegate="inputKeyPressed($event)"\n               placeholder.bind="placeholder"\n               blur.trigger="hideSuggestions()"\n               focus.bind="hasFocus">\n        <div class="autocomplete-suggestion" show.bind="isShown">\n            <div class="list-group">\n                <a data-id="${item._id}"\n                   data-value="${item.title}"\n                   class="list-group-item"\n                   repeat.for="item of items"\n                   mousedown.delegate="itemSelected($event)"><span>${item.title}</span>\n                </a>\n            </div>\n        </div>\n    </div>\n</template>'}),define("text!controllers/editItem.html",["module"],function(t){t.exports='<template>\n\n    <div class="container">\n\n        <div class="panel panel-default">\n            <div class="panel-body">\n                <require from="./autocomplete"></require>\n                <form>\n                    <div class="col-md-8" >\n                        <div class="form-group">\n                            <input type="text" class="form-control" placeholder="Title" value.bind="item.title" focus.bind="isTitleFocus">\n                        </div>\n                        <div class="form-group">\n                            <textarea class="form-control" rows="7" value.bind="item.description"></textarea>\n                        </div>\n                        <div class="form-group" show.bind="hasFeature">\n                            <autocomplete value.two-way="item.featureTitle"\n                                          placeholder="Choose feature"\n                                          min-term-length=3\n                                          loader.bind="data"\n                                          value-id.two-way="item.feature.id"\n                            ></autocomplete>\n                        </div>\n                        <div class="form-group">\n                            <autocomplete value.two-way="item.requirementTitle"\n                                          placeholder="Choose functional requirement"\n                                          min-term-length=3\n                                          loader.bind="rdata"\n                                          value-id.two-way="item.requirement.id"\n                            ></autocomplete>\n                        </div>\n                        <div class="form-group">\n                            <button type="button" class="btn btn-default" onclick="document.location.href=\'#/\';">Cancel</button>\n                            <button type="button" class="btn btn-primary" disabled.bind="!canSave" click.trigger="save()">Save</button>\n                            <button type="button" class="btn btn-warning" show.bind="isClosed" click.trigger="restore()">Restore in backlog</button>\n                        </div>\n                    </div>\n                    <div class="col-md-4">\n                        <div class="form-group">\n                            <div class="btn-group" role="group">\n                                <button type="button" class = "btn btn-default ${item.type==\'feature\' ? \'active\' : \'\'}"  click.trigger="switchType(\'feature\')">Feature</button>\n                                <button type="button" class="btn btn-default ${item.type==\'task\' ? \'active\' : \'\'}"  click.trigger="switchType(\'task\')">Task</button>\n                                <button type="button" class="btn btn-default ${item.type==\'bug\' ? \'active\' : \'\'}"  click.trigger="switchType(\'bug\')">Bug</button>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <autocomplete value.two-way="item.authorTitle"\n                                          placeholder="Choose author"\n                                          min-term-length=2\n                                          loader.bind="udata"\n                                          value-id.two-way="item.author.id"\n                            ></autocomplete>\n                        </div>\n                        <div class="form-group">\n                            <autocomplete value.two-way="item.assigneeTitle"\n                                          placeholder="Choose assignee"\n                                          min-term-length=2\n                                          loader.bind="udata"\n                                          value-id.two-way="item.assignee.id"\n                            ></autocomplete>\n                        </div>\n                        <div class="form-group"  show.bind="hasEstimate">\n                            <div class="btn-group" role="group" >\n                                <button type="button" class="btn btn-default ${item.estimate==0 ? \'active\' : \'\'}" click.trigger="switchEstimate(0)">?</button>\n                                <button type="button" class="btn btn-default ${item.estimate==2 ? \'active\' : \'\'}" click.trigger="switchEstimate(2)">S</button>\n                                <button type="button" class="btn btn-default ${item.estimate==5 ? \'active\' : \'\'}" click.trigger="switchEstimate(5)">M</button>\n                                <button type="button" class="btn btn-default ${item.estimate==13 ? \'active\' : \'\'}" click.trigger="switchEstimate(13)">XL</button>\n                                <button type="button" class="btn btn-default ${item.estimate==21 ? \'active\' : \'\'}" click.trigger="switchEstimate(21)">XXL</button>\n                            </div>\n                        </div>\n                        <div class="form-group">\n                            <button type="button" class="btn btn-danger ${item.isProblem ? \'active\' : \'\'}" click.trigger="switchProblem()">Report a problem</button>\n                        </div>\n                        <div class="form-group">\n                            <textarea class="form-control" rows="3" show.bind="item.isProblem" value.bind="item.problemDescription" focus.bind="isProblemFocus"></textarea>\n                        </div>\n                    </div>\n\n                </form>\n            </div>\n        </div>\n    </div>\n</template>';
}),define("text!controllers/node.html",["module"],function(t){t.exports='<template>\n    <ul class="tree">\n        <li><a href="#" click.trigger="sendEdit(current._id)">${current.title} [${current.requirementCode}]</a></li>\n        <li if.bind="current.children.length > 0">\n            <node repeat.for="r of current.children" current.bind="r" edit.call="sendEdit(id)"></node>\n        </li>\n    </ul>\n</template>'}),define("text!controllers/pipelines.html",["module"],function(t){t.exports='<template>\n  <nav class="navbar navbar-default">\n    <div class="container-fluid">\n      <div class="navbar-header" style="width:100%;">\n        <form class="navbar-form navbar-left" if.bind="isPipelineOptions">\n          <div class="form-group">\n            <input type="text" class="form-control" placeholder="By text">\n          </div>\n          <div class="form-group">\n            <input class="form-control" placeholder="Functional requrment" autocomplete="off">\n            <input class="form-control" placeholder="Feature" autocomplete="off">\n            <input class="form-control" placeholder="Assignee" autocomplete="off">\n            <div class="btn-group" role="group" aria-label="...">\n              <button type="button" class="btn btn-default ${filter.isFeatures ? \'active\' : \'\'}" click.trigger="switchFeatures()">Features</button>\n              <button type="button" class="btn btn-default ${filter.isTasks ? \'active\' : \'\'}" click.trigger="switchTasks()">Tasks</button>\n              <button type="button" class="btn btn-default ${filter.isBugs ? \'active\' : \'\'}" click.trigger="switchBugs()">Bugs</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </nav>\n\n  <main class="pipelines">\n    <div class="pipeline" repeat.for="status of statuses">\n      <div class="pipeline-header">${status} <span class="badge">${_items.totals[status]}</span>\n      </div>\n      <ul class="items" data-status="${status}">\n        <li class="ui-state-default item item-${i.type}" repeat.for="i of _items[status]" current.bind="i" data-id="${i._id}" id="${i._id}">\n          <span class="badge badge-task" style="margin-right:6px;" if.bind="i.type != \'feature\'" >${i.estimate}</span>\n          ${i.title}\n          <a href="#/item/${i._id}">edit</a>\n        </li>\n      </ul>\n    </div>\n  </main>\n</template>\n'}),define("text!controllers/requirements.html",["module"],function(t){t.exports='<template>\n    <div class="container">\n        <div class="panel panel-default">\n            <div class="panel-body">\n                <div class="col-md-4">\n                    <div show.bind="isForm">\n                        <form role="form" submit.delegate="save()">\n                        <div class="form-group">\n                            <input type="text" class="form-control" placeholder="Title" value.bind="requirement.title">\n                        </div>\n                        <div class="form-group" align="right">\n                            <button type="button" class="btn btn-warning" show.bind="requirement._id" click.trigger="create(requirement._id)">Add child</button>\n                            <button type="button" class="btn btn-default" click.trigger="hide()">Cancel</button>\n                            <button type="button" class="btn btn-danger" show.bind="requirement._id" click.trigger="remove(requirement._id)">Remove</button>\n                            <button type="button" class="btn btn-primary" disabled.bind="!canSave" click.trigger="save()">Save</button>\n                        </div>\n                        </form>\n                    </div>\n\n\n\n                    <!--\n                    <div class="form-group">\n                        <input type="text" class="form-control" placeholder="Title" value.bind="functions.title">\n                    </div>\n                    <div class="form-group" align="right">\n                        <button type="button" class="btn btn-warning">Add child</button>\n                        <button type="button" class="btn btn-default">Cancel</button>\n                        <button type="button" class="btn btn-primary">Save</button>\n                    </div>\n                    <div style="padding: 10px;">\n                        <span class="label label-danger">Bugs</span>\n                    </div>\n                    <div style="padding: 10px;">\n                        <a href="#">Create super design</a>\n                    </div>\n                    <div style="padding: 10px;">\n                        <span class="label label-success">Features</span>\n                    </div>\n                    <div style="padding: 10px;"><a href="#">Create super design. Create super design. Create super design. Create super design. Create super design. </a></div>\n                    <div style="padding: 10px;"><a href="#">Create super design</a></div>\n                    <div style="padding: 10px;"><a href="#">Create super design</a></div>\n                    <div style="padding: 10px;"><a href="#">Create super design</a></div>\n                    <div style="padding: 10px;"><a href="#">Create super design</a></div>\n                    <div style="padding: 10px;"><a href="#">Create super design</a></div>\n                    -->\n                </div>\n                <div class="col-md-8" >\n                    <button type="button" class="btn btn-primary"\n                            show.bind="requirements.length < 1"\n                            click.trigger="create(null)"\n                    >Create</button>\n                    <div if.bind="requirements.length > 0">\n                        <require from=\'./node\'></require>\n                        <node repeat.for="r of requirements" current.bind="r" edit.call="edit(id)"></node>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>'}),define("text!controllers/users.html",["module"],function(t){t.exports='<template>\n    <div class="container">\n        <div class="panel panel-default">\n            <div class="panel-heading">Users</div>\n            <div class="panel-body">\n                <div class="col-md-5">\n                    <div show.bind="isForm">\n                        <form role="form" submit.delegate="save()">\n                            <div class="form-group">\n                                <label for="inputEmail">Email address</label>\n                                <input id="inputEmail" type="text" class="form-control" placeholder="Email" value.bind="user.email">\n                            </div>\n                            <div class="form-group">\n                                <label for="inputPass">Password</label>\n                                <input id="inputPass" type="password" class="form-control" placeholder="Password" value.bind="user.password">\n                            </div>\n                            <div class="form-group" align="right">\n                                <button type="button" class="btn btn-default" click.trigger="hide()">Cancel</button>\n                                <button type="button" class="btn btn-primary" disabled.bind="!canSave" click.trigger="save()">Save</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <div class="col-md-7">\n                    <button type="button" class="btn btn-primary" click.trigger="create()" style="margin-bottom: 10px;">Create</button>\n                    <div class="list-group" >\n                        <a href="#" class="list-group-item" repeat.for="u of users" current.bind="u" click.trigger="edit(u._id)">${u.email}</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>'});